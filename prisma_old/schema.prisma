generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = "postgresql://admin:password@localhost:5432/fiore_pos?schema=public"
}

model Category {
  id       String    @id @default(cuid())
  name     String
  icon     String?
  products Product[]
}

model Product {
  id         String      @id @default(cuid())
  name       String
  price      Float
  category   Category    @relation(fields: [categoryId], references: [id])
  categoryId String
  image      String?
  stock      Int         @default(0)
  orderItems OrderItem[]
}

model Order {
  id         String      @id @default(cuid())
  total      Float
  status     String      @default("PENDING") // PENDING, PAID, CANCELLED
  items      OrderItem[]
  createdAt  DateTime    @default(now())
  updatedAt  DateTime    @updatedAt
}

model OrderItem {
  id        String  @id @default(cuid())
  order     Order   @relation(fields: [orderId], references: [id])
  orderId   String
  product   Product @relation(fields: [productId], references: [id])
  productId String
  quantity  Int
  price     Float
}

model User {
  id    String @id @default(cuid())
  name  String
  role  String @default("STAFF") // ADMIN, STAFF
  pin   String @unique
}
